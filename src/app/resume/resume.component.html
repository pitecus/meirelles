<div class="flex flex-col justify-between min-h-screen pt-4 print:pt-0">
  <!-- First row: personal info and summary -->
  <div *ngIf="resume && resume.basics"
    class="flex container gap-3 flex-col md:flex-row print:flex-row ">
    <!-- Photo, location and contacts -->
    <app-profile-card [basics]="resume.basics"></app-profile-card>

    <!-- Summary -->
    <app-summary-card [summary]="resume.basics.summary"
      [profiles]="resume.basics.profiles || []"
      [releaseVersion]="release?.version || ''"></app-summary-card>
  </div>

  <!-- Body -->
  <main class="pt-4">
    <!-- Work experience -->
    <app-card>
      <div class="flex justify-between p-4 print:p-0">
        <h2 class="text-2xl flex justify-between items-end print:text-lg">
          <span class="material-icons-outlined leading-normal pr-1 print:hidden">
            work_history
          </span>
          Experience
        </h2>
        <!-- Filter -->
        <label class="flex items-center text-sm print:hidden">
          <input type="checkbox"
            [ngModel]="isWorkFiltered"
            (click)="filterWork()"
            class="form-checkbox h-4 w-4 text-indigo-500" />
          <span class="ml-2">Last 7 years</span>
        </label>
      </div>
    </app-card>

    <div class="grid lg:grid-cols-2 gap-4 mt-4">
      <app-work-experience-card *ngFor="let work of filteredWork; last as isLast"
        [work]="work">
      </app-work-experience-card>
    </div>

    <!-- Publications and conferences -->
    <div *ngIf="resume?.publications"
      class="pt-4">
      <app-card class="mt-4">
        <div class="flex justify-between p-4 print:p-0">
          <h2 class="text-2xl flex justify-between items-end print:text-lg">
            <span class="material-icons-outlined leading-normal pr-1 print:hidden">
              mic_external_on
            </span>
            Conferences
            <span class="px-2">/</span>
            <span class="material-icons-outlined leading-normal pr-1 print:hidden">
              article
            </span>
            Publications
          </h2>
        </div>
      </app-card>

      <!-- List of publications/conferences -->
      <div class="grid lg:grid-cols-2 gap-4 mt-4">
        <app-publication-card *ngFor="let publication of resume?.publications || []"
          [publication]="publication"></app-publication-card>
      </div>
    </div>

    <!-- Education and languages-->

    <div *ngIf="resume?.education || resume?.languages"
      class="pt-4">
      <app-card class="mt-4">
        <div class="flex justify-between p-4 print:p-0">
          <h2 class="text-2xl flex justify-between items-end print:text-lg">
            <span class="material-icons-outlined leading-normal pr-1 print:hidden">
              school
            </span>
            Education
            <span class="px-2">/</span>
            <span class="material-icons-outlined leading-normal pr-1 print:hidden">
              language
            </span>
            Languages
          </h2>
        </div>
      </app-card>

      <!-- List of schools and languages -->
      <div class="grid lg:grid-cols-2 gap-4 mt-4">
        <app-education-card *ngFor="let education of resume?.education || []"
          [education]="education"></app-education-card>

      </div>
    </div>


    <div *ngIf="resume && (resume.education || resume.languages)"
      class="rounded-lg bg-white shadow p-2 mt-4 print:pt-0 print:-mt-2 print:shadow-none">
      <!-- Education -->
      <div>
        <h2 class="border-b-2 border-gray-300 font-bold text-xl text-indigo-900">Education</h2>
      </div>

      <!-- Languages -->
      <div *ngIf="resume.education">
        <h2 class="border-b-2 mt-4 border-gray-300 font-bold text-xl text-indigo-900">
          Languages
        </h2>
        <div *ngFor="let language of resume.languages"
          class="mt-2 flex flex-row flex-wrap">
          <p class="mr-4">
            <!-- Brazilian Portuguese -->
            <span *ngIf="language.language === 'Portugues'">ðŸ‡§ðŸ‡·</span>
            <!-- USA English -->
            <span *ngIf="language.language === 'English'">ðŸ‡ºðŸ‡¸</span>
            <!-- The language -->
            <span class="pl-2 font-bold">{{language.language}}</span>:&nbsp;
            <span>{{language.fluency}}</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Technical skills -->
    <div *ngIf="resume && resume.skills"
      class="rounded-lg bg-white shadow mt-4  p-2 print:shadow-none">
      <h2 class="border-b-2 border-gray-300 font-bold text-xl text-indigo-900">
        Technical Skills
      </h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 print:grid-cols-2 gap-2 mt-2">
        <div *ngFor="let skill of resume.skills"
          class="border-b print:shadow-none">
          <h2 class="font-bold rounded-lg p-1 text-md bg-gray-100 print:bg-white">{{skill.name}}</h2>
          <span class="text-sm print:text-xs">
            {{skill.keywords?.join(', ')}}
          </span>
        </div>
      </div>
    </div>
  </main>
</div>